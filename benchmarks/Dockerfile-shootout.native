FROM ubuntu:20.04
ENV DEBIAN_FRONTEND="noninteractive" TZ="America"
ARG RUST_VERSION="nightly-2022-04-24"
RUN apt update && apt-get install -y --no-install-recommends curl ca-certificates build-essential

# Install rust
RUN curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs -sSf | sh -s -- --default-toolchain ${RUST_VERSION} -y
ENV PATH=/root/.cargo/bin:${PATH}
COPY . /benchmark
RUN cd benchmark; cargo run --release
